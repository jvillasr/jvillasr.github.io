{%- assign p = include.project -%}
{%- assign ext_link = p.link | downcase | contains: '://' -%}

<a class="card research-card"
   href="{% if ext_link %}{{ p.link }}{% else %}{{ p.link | relative_url }}{% endif %}"
   {% if ext_link %}target="_blank" rel="noopener"{% endif %}
   aria-label="{{ p.name | escape }}">

  <div class="image is-3by2 research-card-media"
       {% if p.image %}
         {%- assign ext_img = p.image | downcase | contains: '://' -%}
         style="background-image:url('{% if ext_img %}{{ p.image }}{% else %}{{ p.image | relative_url }}{% endif %}')"
       {% endif %}>
    <span class="sr-only">{{ p.image_alt | default: p.name }}</span>
  </div>

  <div class="card-content has-text-centered has-background-black">
    <h3 class="title is-5 has-text-white research-card-title">{{ p.name }}</h3>
    <p class="has-text-white has-text-weight-light research-card-desc">
      {{ p.description }}
    </p>

    {% if p.role or p.status %}
      <div class="research-card-badges">
        {% if p.role %}<span class="tag is-light research-card-tag">{{ p.role }}</span>{% endif %}
        {% if p.status %}<span class="tag is-dark research-card-tag">{{ p.status }}</span>{% endif %}
      </div>
    {% endif %}
  </div>
</a>